<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Stars V1.3</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="debug-console" style="
        display: none; 
        position: absolute; 
        top: 0; left: 0; 
        width: 100%; height: 50vh; 
        background: rgba(0,0,0,0.9); 
        color: #0f0; 
        font-family: 'Courier New', monospace; 
        font-size: 14px;
        overflow-y: scroll; 
        z-index: 99999;
        padding: 10px;
        pointer-events: auto;
        border-bottom: 2px solid #0f0;">
        <div>> SYSTEM READY. PRESS ` TO TOGGLE.</div>
    </div>

    <div id="game-wrapper">
        <canvas id="gameCanvas"></canvas>
        
        <div id="ui-layer">
            <div id="hud">
                <div id="ammo-bar-container">
                    <div class="ammo-slot"><div class="ammo-filled" id="ammo1"></div></div>
                    <div class="ammo-slot"><div class="ammo-filled" id="ammo2"></div></div>
                    <div class="ammo-slot"><div class="ammo-filled" id="ammo3"></div></div>
                </div>
                <div id="super-btn">SUPER</div>
            </div>
        </div>

        <div id="screen-home" class="screen">
            <h1>AI Stars</h1>
            <div style="display:flex; gap:20px">
                <button class="btn btn-yel" id="btn-showdown">SKULL CREEK (SOLO)</button>
                <button class="btn btn-red" id="btn-knockout">OUT IN OPEN (3v3)</button>
            </div>
        </div>

        <div id="screen-select" class="screen hidden">
            <h2>SELECT BRAWLER</h2>
            <div class="grid" id="grid"></div>
            <div id="brawler-desc"></div>
            <button class="btn btn-yel" id="play-btn">BRAWL!</button>
        </div>
    </div>

    <script>
        (function() {
            const debugDiv = document.getElementById('debug-console');
            const realLog = console.log;
            const realError = console.error;

            function logToScreen(msg, isError) {
                const line = document.createElement('div');
                line.textContent = '> ' + msg;
                if (isError) line.style.color = '#ff5555';
                debugDiv.appendChild(line);
                debugDiv.scrollTop = debugDiv.scrollHeight;
            }

            console.log = function(...args) {
                const msg = args.map(a => typeof a === 'object' ? JSON.stringify(a) : String(a)).join(' ');
                logToScreen(msg, false);
                realLog.apply(console, args);
            };

            console.error = function(...args) {
                const msg = args.map(a => typeof a === 'object' ? JSON.stringify(a) : String(a)).join(' ');
                logToScreen('ERROR: ' + msg, true);
                realError.apply(console, args);
            };

            window.addEventListener('keydown', (e) => {
                if (e.key === '`' || e.key === '~') {
                    debugDiv.style.display = (debugDiv.style.display === 'none') ? 'block' : 'none';
                }
            });
        })();
    </script>

    <script type="module" src="js/main.js"></script>
</body>
</html>
